library(pacman)
p_load(readr,rio,tidyverse,skimr,visdat, corrplot,stargazer, scales, haven)
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_filterVariab.csv")
skim(geih_data$y_salary_m_hu)
ggplot(geih_data, aes(x = y_salary_m_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución de Salario",
x = "Salario ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
mediana <- median(geih_data$y_salary_m_hu, na.rm = TRUE)
media <- mean(geih_data$y_salary_m_hu,na.rm = TRUE)
ggplot(geih_data, aes(x = y_salary_mu_h)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
geom_vline(aes(xintercept = media), color = "red", linetype = "solid", linewidth = 1) +
geom_vline(aes(xintercept = mediana), color = "green", linetype = "dashed", linewidth = 1) +
# Escala personalizada para mostrar media y mediana en eje X
scale_x_continuous(
labels = scales::comma,
breaks = sort(c(seq(0, max(geih_data$y_salary_m_hu, na.rm = TRUE), by = 5000),
media, mediana))  # Agrega valores al eje
) +
ggplot2::labs(title = "Distribución de Salario (en miles)",
x = "Salario (miles)",
y = "Frecuencia") +
# Rotar texto para mejor visualización
ggplot2::theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(geih_data, aes(x = y_salary_mu_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
geom_vline(aes(xintercept = media), color = "red", linetype = "solid", linewidth = 1) +
geom_vline(aes(xintercept = mediana), color = "green", linetype = "dashed", linewidth = 1) +
# Escala personalizada para mostrar media y mediana en eje X
scale_x_continuous(
labels = scales::comma,
breaks = sort(c(seq(0, max(geih_data$y_salary_m_hu, na.rm = TRUE), by = 5000),
media, mediana))  # Agrega valores al eje
) +
ggplot2::labs(title = "Distribución de Salario (en miles)",
x = "Salario (miles)",
y = "Frecuencia") +
# Rotar texto para mejor visualización
ggplot2::theme(axis.text.x = element_text(angle = 45, hjust = 1))
names(geih_data)
ggplot(geih_data, aes(x = y_salary_m_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
geom_vline(aes(xintercept = media), color = "red", linetype = "solid", linewidth = 1) +
geom_vline(aes(xintercept = mediana), color = "green", linetype = "dashed", linewidth = 1) +
# Escala personalizada para mostrar media y mediana en eje X
scale_x_continuous(
labels = scales::comma,
breaks = sort(c(seq(0, max(geih_data$y_salary_m_hu, na.rm = TRUE), by = 5000),
media, mediana))  # Agrega valores al eje
) +
ggplot2::labs(title = "Distribución de Salario (en miles)",
x = "Salario (miles)",
y = "Frecuencia") +
# Rotar texto para mejor visualización
ggplot2::theme(axis.text.x = element_text(angle = 45, hjust = 1))
geih_data_i <- geih_data %>%
mutate(y_salary_m_hu_i = ifelse(is.na(y_salary_m_hu),
median(y_salary_m_hu, na.rm = TRUE),
y_salary_m_hu))
View(geih_data_i)
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_filterVariab.csv")
install.packages("pacman")
library(pacman)
p_load(readr,rio,tidyverse,skimr,visdat, corrplot,stargazer, scales, haven)
# Importar datos de GitHub
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_filterVariab.csv")
#Anális
skim(geih_data$y_salary_m_hu)
ggplot(geih_data, aes(x = y_salary_m_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución de Salario",
x = "Salario ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
media <- mean(geih_data$y_salary_m_hu,na.rm = TRUE)
mediana <- median(geih_data$y_salary_m_hu, na.rm = TRUE)
names(geih_data)
ggplot(geih_data, aes(x = y_salary_m_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
geom_vline(aes(xintercept = media), color = "red", linetype = "solid", linewidth = 1) +
geom_vline(aes(xintercept = mediana), color = "green", linetype = "dashed", linewidth = 1) +
# Escala personalizada para mostrar media y mediana en eje X
scale_x_continuous(
labels = scales::comma,
breaks = sort(c(seq(0, max(geih_data$y_salary_m_hu, na.rm = TRUE), by = 5000),
media, mediana))  # Agrega valores al eje
) +
ggplot2::labs(title = "Distribución de Salario (en miles)",
x = "Salario (miles)",
y = "Frecuencia") +
# Rotar texto para mejor visualización
ggplot2::theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(geih_data, aes(x = y_salary_m_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
geom_vline(aes(xintercept = media), color = "red", linetype = "solid", linewidth = 1) +
geom_vline(aes(xintercept = mediana), color = "green", linetype = "dashed", linewidth = 1) +
# Escala personalizada para mostrar media y mediana en eje X
scale_x_continuous(
labels = scales::comma,
breaks = sort(c(seq(0, max(geih_data$y_salary_m_hu, na.rm = TRUE), by = 5000),
media, mediana))  # Agrega valores al eje
) +
ggplot2::labs(title = "Distribución de Salario (en miles)",
x = "Salario (miles)",
y = "Frecuencia") +
# Rotar texto para mejor visualización
ggplot2::theme(axis.text.x = element_text(angle = 45, hjust = 1))
skim(geih_data$totalhoursworked)
skim(geih_data$totalhoursworked)
min(geih_data$totalhoursworked)
names(geih_data)
geih_data %>% select(y_salary_m_hu,totalhoursworked)
print(geih_data %>% select(y_salary_m_hu,totalhoursworked))
print(geih_data %>% select(y_salary_m_hu,totalhoursworked))
geih_data %>% select(y_salary_m_hu,totalhoursworked)
view()
geih_data %>% select(y_salary_m_hu,totalhoursworked) %>% view()
sum(is.na(geih_data$y_salary_m_hu)&is.na(geih_data$totalhoursworked))
skim(geih_data$y_salary_m_hu)
ggplot(geih_data, aes(x = y_salary_m_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución de Salario",
x = "Salario ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
skim(geih_data$totalhoursworked)
geih_data %>% select(y_salary_m_hu,totalhoursworked) %>% view()
sum(is.na(geih_data$y_salary_m_hu)&is.na(geih_data$totalhoursworked))
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_filterVariab.csv")
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_age_employed_filtered.csv")
skim(geih_data$y_salary_m_hu)
# Importar datos de GitHub
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_age_employed_filtered.csv")
View(geih_data_i)
# Importar datos de GitHub
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_age_employed_filtered.csv")
# Importar datos de GitHub
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_filterVariab.csv")
View(geih_data)
skim(geih_data$y_salary_m_hu)
ggplot(geih_data, aes(x = y_salary_m_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución de Salario",
x = "Salario ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
media <- mean(geih_data$y_salary_m_hu,na.rm = TRUE)
mediana <- median(geih_data$y_salary_m_hu, na.rm = TRUE)
ggplot(geih_data, aes(x = y_salary_m_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
geom_vline(aes(xintercept = media), color = "red", linetype = "solid", linewidth = 1) +
geom_vline(aes(xintercept = mediana), color = "green", linetype = "dashed", linewidth = 1) +
# Escala personalizada para mostrar media y mediana en eje X
scale_x_continuous(
labels = scales::comma,
breaks = sort(c(seq(0, max(geih_data$y_salary_m_hu, na.rm = TRUE), by = 5000),
media, mediana))  # Agrega valores al eje
) +
ggplot2::labs(title = "Distribución de Salario (en miles)",
x = "Salario (miles)",
y = "Frecuencia") +
# Rotar texto para mejor visualización
ggplot2::theme(axis.text.x = element_text(angle = 45, hjust = 1))
skim(geih_data$totalhoursworked)
min(geih_data$totalhoursworked)
geih_data_i <- geih_data %>%
mutate(y_salary_m_hu_i = ifelse(is.na(y_salary_m_hu),
median(y_salary_m_hu, na.rm = TRUE),
y_salary_m_hu))
View(geih_data_i)
geih_data %>% select(y_salary_m_hu_i,y_salary_m_hu_i) %>% view()
geih_data %>% select(y_salary_m_hu,y_salary_m_hu_i) %>% view()
geih_data_i %>% select(y_salary_m_hu,y_salary_m_hu_i) %>% view()
View(geih_data)
summary(geih_data_i$clase)
skim(geih_data_i$clase)
sum(geih_data_i$clase == 0, na.rm = TRUE)
View(geih_data_i)
# Importar datos de GitHub
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_filterVariab.csv")
install.packages("pacman")
library(pacman)
p_load(readr,rio,tidyverse,skimr,visdat, corrplot,stargazer, scales, haven)
# Importar datos de GitHub
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_filterVariab.csv")
View(geih_data)
skim(geih_data$y_salary_m_hu)
#6.650 missing
#7.946 salario promedio por hora
#11.607 desviación
#Mediana: 4.476
#Min: 152
#Max: 291.667
ggplot(geih_data, aes(x = y_salary_m_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución de Salario",
x = "Salario ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
#Debido a la asimetría positiva deberíamos imputar por mediana (4476)
media <- mean(geih_data$y_salary_m_hu,na.rm = TRUE)
mediana <- median(geih_data$y_salary_m_hu, na.rm = TRUE)
names(geih_data)
ggplot(geih_data, aes(x = y_salary_m_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
geom_vline(aes(xintercept = media), color = "red", linetype = "solid", linewidth = 1) +
geom_vline(aes(xintercept = mediana), color = "green", linetype = "dashed", linewidth = 1) +
# Escala personalizada para mostrar media y mediana en eje X
scale_x_continuous(
labels = scales::comma,
breaks = sort(c(seq(0, max(geih_data$y_salary_m_hu, na.rm = TRUE), by = 5000),
media, mediana))  # Agrega valores al eje
) +
ggplot2::labs(title = "Distribución de Salario (en miles)",
x = "Salario (miles)",
y = "Frecuencia") +
# Rotar texto para mejor visualización
ggplot2::theme(axis.text.x = element_text(angle = 45, hjust = 1))
skim(geih_data$totalhoursworked)
min(geih_data$totalhoursworked)
#Análisis de missing values
names(geih_data)
#Método de imputación (opción 1):
#Debido a la asimetría positiva, se imputa con base a la mediana.
geih_data_i <- geih_data %>%
mutate(y_salary_m_hu_i = ifelse(is.na(y_salary_m_hu),
median(y_salary_m_hu, na.rm = TRUE),
y_salary_m_hu))
geih_data_i %>% select(y_salary_m_hu,y_salary_m_hu_i) %>% view()
skim(geih_data_i$clase)
sum(geih_data_i$clase == 0, na.rm = TRUE)
# Importar datos de GitHub
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_filterVariab.csv")
install.packages("pacman")
library(pacman)
p_load(readr,rio,tidyverse,skimr,visdat, corrplot,stargazer, scales, haven)
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_filterVariab.csv")
names(geih_data)
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_filterVariab.csv")
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_filterVariab.csv")
View(geih_data)
View(geih_data)
skim(geih_data$y_salary_m_hu)
names(geih_data)
skim(geih_data$y_inglab_m_ha)
skim(geih_data$y_salary_m_hu)
skim(geih_data$y_inglab_m_ha)
skim(geih_data$y_salary_m_hu)
skim(geih_data$y_inglab_m_ha)
geih_data <- geih_data[geih_data$y_inglab_m_ha > 0, ]
View(geih_data)
geih_data <- geih_data[geih_data$y_inglab_m_ha > 0, ]
geih_data <- subset(geih_data, y_salary_m_hu > 0)
View(geih_data)
skim(geih_data$maxeduclevel)
ggplot(geih_data, aes(x = maxeduclevel)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución del nivel educativo",
x = "Salario ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
skim(geih_data$maxeduclevel)
ggplot(geih_data, aes(x = maxeduclevel)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución del nivel educativo",
x = "Salario ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
View(geih_data)
skim(geih_data$regsalud)
ggplot(geih_data, aes(x = regsalud)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución del nivel educativo",
x = "Salario ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
skim(geih_data$dpto)
skim(geih_data$depto)
ggplot(geih_data, aes(x = depto)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución del nivel educativo",
x = "Salario ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
skim(geih_data$depto)
ggplot(geih_data, aes(x = depto)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución del nivel educativo",
x = "Salario ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
p_load(readr,rio,tidyverse,skimr,visdat, corrplot,stargazer, scales, haven, dplyr)
# 1. Importación de datos GitHub ========================================
geih_data <- read_csv("https://raw.githubusercontent.com/9marlon9/ProblemSet1/refs/heads/main/geih_data/GEIH2018_filterVariab.csv")
# 2. Análisis descriptivo de la base =====================================
#Variables en la base:
names(geih_data)
geih_data <- geih_data %>%
rename(Experiencia = p6426)
#Mantener salarios positivos.
geih_data <- subset(geih_data, y_salary_m_hu > 0)
# 3. Variable explicada (Y) (Salario por hora) ================================
skim(geih_data$y_salary_m_hu)
#6.650 missing
#7.946 salario promedio por hora
#11.607 desviación
#Mediana: 4.476
#Min: 152
#Max: 291.667
skim(geih_data$y_inglab_m_ha)
media <- mean(geih_data$y_salary_m_hu,na.rm = TRUE)
mediana <- median(geih_data$y_salary_m_hu, na.rm = TRUE)
#Distribución del salario por hora:
ggplot(geih_data, aes(x = y_salary_m_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución de Salario",
x = "Salario ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
ggplot(geih_data, aes(x = y_salary_m_hu)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
geom_vline(aes(xintercept = media), color = "red", linetype = "solid", linewidth = 1) +
geom_vline(aes(xintercept = mediana), color = "green", linetype = "dashed", linewidth = 1) +
# Escala personalizada para mostrar media y mediana en eje X
scale_x_continuous(
labels = scales::comma,
breaks = sort(c(seq(0, max(geih_data$y_salary_m_hu, na.rm = TRUE), by = 5000),
media, mediana))  # Agrega valores al eje
) +
ggplot2::labs(title = "Distribución de Salario (en miles)",
x = "Salario (miles)",
y = "Frecuencia") +
# Rotar texto para mejor visualización
ggplot2::theme(axis.text.x = element_text(angle = 45, hjust = 1))
# 4. Variables explicativas==========================================
#4.1 Totalhoursworked
skim(geih_data$totalhoursworked)
min(geih_data$totalhoursworked)
skim(geih_data$maxeduclevel)
#Tratamiento de datos del regimen de salud
ggplot(geih_data, aes(x = regsalud)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución del regimen de salud",
x = "Tipo ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
# calculamos el valor más común de regsalud.
mode_reg <- as.numeric(names(sort(table(geih_data$regsalud), decreasing = TRUE)[1]))
# imputación de datos faltantes
geih_data <- geih_data  %>%
mutate(regsalud = ifelse(is.na(regsalud) == TRUE, mode_reg , regsalud))
skim(geih_data$regsalud)
#Tipo de vinculación#
skim(geih_data$relab)
ggplot(geih_data, aes(x = relab)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución del regimen de salud",
x = "Tipo ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
#Es formal o informal#
skim(geih_data$formal)
ggplot(geih_data, aes(x = formal)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución de formalidad",
x = "Tipo ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
ggplot(geih_data, aes(x = sizefirm)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución del tamaño de la firma",
x = "Tipo ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
#Experiencia, frecuencia en meses#
#Transformación de la variable de meses a años#
geih_data$Experiencia <- geih_data$Experiencia / 12
skim(geih_data$Experiencia)
max(geih_data$Experiencia)
ggplot(geih_data, aes(x = Experiencia)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución de experiencia",
x = "Tipo ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
p95 <- quantile(geih_data$Experiencia, 0.95, na.rm = TRUE)
ggplot(geih_data, aes(x = Experiencia)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución de experiencia",
x = "Tipo",
y = "Frecuencia") +
scale_x_continuous(labels = comma) +
coord_cartesian(xlim = c(0, p95))
skim(geih_data$totalhoursworked)
ggplot(geih_data, aes(x = totalhoursworked)) +
geom_histogram(bins = 30, fill = "steelblue", na.rm = TRUE) +
labs(title = "Distribución de experiencia",
x = "Tipo ",
y = "Frecuencia") +
scale_x_continuous(labels = comma)
